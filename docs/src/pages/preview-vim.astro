---
// Preview: Vim aesthetic
// Inspired by astro-vim - works like a text editor
// Line numbers, status bar, command mode, ~ empty lines
---

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>claude-1337</title>
  <style>
    :root {
      --bg: #1c1c1c;
      --fg: #d0d0d0;
      --gray: #4e4e4e;
      --blue: #5fafd7;
      --green: #87d787;
      --yellow: #d7af5f;
      --red: #d75f5f;
      --statusline: #303030;
      --visual: #3a3a3a;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: ui-monospace, 'SF Mono', 'Cascadia Code', Menlo, monospace;
      font-size: 14px;
      background: var(--bg);
      color: var(--fg);
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .editor {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    .gutter {
      width: 3ch;
      background: var(--bg);
      color: var(--gray);
      text-align: right;
      padding-right: 1ch;
      user-select: none;
      overflow: hidden;
    }

    .gutter .tilde {
      color: var(--blue);
    }

    .content {
      flex: 1;
      padding: 0 1ch;
      overflow-y: auto;
      line-height: 1.5;
    }

    .statusbar {
      background: var(--statusline);
      color: var(--fg);
      height: 1.5em;
      display: flex;
      align-items: center;
      padding: 0 1ch;
      font-size: 13px;
    }

    .statusbar .mode {
      font-weight: bold;
      margin-right: 2ch;
    }

    .statusbar .mode.normal { color: var(--green); }
    .statusbar .mode.command { color: var(--yellow); }

    .statusbar .file { flex: 1; }
    .statusbar .position { color: var(--gray); }

    .commandline {
      background: var(--bg);
      height: 1.5em;
      padding: 0 1ch;
      display: flex;
      align-items: center;
    }

    .commandline .cursor {
      background: var(--fg);
      color: var(--bg);
      animation: blink 1s step-end infinite;
    }

    @keyframes blink { 50% { opacity: 0; } }

    .comment { color: var(--gray); }
    .keyword { color: var(--blue); }
    .string { color: var(--green); }
    .number { color: var(--yellow); }
    .header { color: var(--green); font-weight: bold; }
    .link { color: var(--blue); text-decoration: underline; cursor: pointer; }
    .bold { font-weight: bold; color: var(--fg); }
    .dim { color: var(--gray); }
    .tag { color: var(--yellow); }

    .line {
      white-space: pre;
      min-height: 1.5em;
    }

    .line:hover {
      background: rgba(255,255,255,0.02);
    }

    .exited {
      display: flex;
      height: 100vh;
      align-items: center;
      justify-content: center;
      color: var(--gray);
    }
  </style>
</head>
<body>
  <div class="editor">
    <div class="gutter" id="gutter">
      <div>1</div><div>2</div><div>3</div><div>4</div><div>5</div>
      <div>6</div><div>7</div><div>8</div><div>9</div><div>10</div>
      <div>11</div><div>12</div><div>13</div><div>14</div><div>15</div>
      <div>16</div><div>17</div><div>18</div><div>19</div><div>20</div>
      <div>21</div><div>22</div><div>23</div><div>24</div><div>25</div>
      <div>26</div><div>27</div><div>28</div><div>29</div><div>30</div>
      <div>31</div><div>32</div><div>33</div><div>34</div><div>35</div>
      <div>36</div><div>37</div><div>38</div><div>39</div><div>40</div>
      <div>41</div><div>42</div><div>43</div>
      <div class="tilde">~</div><div class="tilde">~</div><div class="tilde">~</div>
      <div class="tilde">~</div><div class="tilde">~</div><div class="tilde">~</div>
      <div class="tilde">~</div>
    </div>
    <div class="content" id="content">
      <div class="line"></div>
      <div class="line"><span class="header"># claude-1337</span></div>
      <div class="line"></div>
      <div class="line"><span class="dim">skills that pick winners, not catalogs</span></div>
      <div class="line"></div>
      <div class="line"><span class="comment">## commands</span></div>
      <div class="line"></div>
      <div class="line">  <span class="keyword">:plugins</span>     <span class="dim">list available plugins</span></div>
      <div class="line">  <span class="keyword">:research</span>    <span class="dim">view activation research</span></div>
      <div class="line">  <span class="keyword">:install</span>     <span class="dim">installation guide</span></div>
      <div class="line">  <span class="keyword">:help</span>        <span class="dim">help documentation</span></div>
      <div class="line">  <span class="keyword">:q</span>           <span class="dim">quit</span></div>
      <div class="line"></div>
      <div class="line"><span class="comment">## plugins/</span></div>
      <div class="line"></div>
      <div class="line">  <span class="string">terminal-1337</span>  <span class="dim">modern cli tools (rg, fd, bat, eza)</span></div>
      <div class="line">  <span class="string">rust-1337</span>      <span class="dim">rust development decisions</span></div>
      <div class="line">  <span class="string">1337-skill-creator</span>  <span class="dim">skill authoring methodology</span></div>
      <div class="line"></div>
      <div class="line"><span class="comment">## the problem</span></div>
      <div class="line"></div>
      <div class="line">  skills only activate <span class="number">~20%</span> of the time.</div>
      <div class="line">  claude ignores them and answers from training.</div>
      <div class="line"></div>
      <div class="line">  <span class="bold">baseline:</span>     <span class="number">20%</span> <span class="dim">activation rate</span></div>
      <div class="line">  <span class="bold">forced eval:</span>  <span class="number">84%</span> <span class="dim">activation rate</span></div>
      <div class="line"></div>
      <div class="line"><span class="comment">## the fix</span></div>
      <div class="line"></div>
      <div class="line">  force claude to evaluate skills before responding:</div>
      <div class="line"></div>
      <div class="line">  <span class="dim">```</span></div>
      <div class="line">  <span class="keyword">Before responding</span>, you MUST:</div>
      <div class="line">  <span class="number">1.</span> EVALUATE each skill: [name] - YES/NO</div>
      <div class="line">  <span class="number">2.</span> ACTIVATE: call Skill() for each YES</div>
      <div class="line">  <span class="number">3.</span> Only THEN respond</div>
      <div class="line">  <span class="dim">```</span></div>
      <div class="line"></div>
      <div class="line"><span class="comment">## sources</span></div>
      <div class="line"></div>
      <div class="line">  <span class="link">scottspence.com/posts/skills-activation</span></div>
      <div class="line">  <span class="link">leehanchung.github.io/blogs/skills-deep-dive</span></div>
      <div class="line"></div>
      <div class="line"><span class="dim">---</span></div>
      <div class="line"><span class="tag">*1337-readme*</span>  <span class="dim">type :help for more</span></div>
    </div>
  </div>

  <div class="statusbar">
    <span class="mode normal" id="mode">NORMAL</span>
    <span class="file">README.md</span>
    <span class="position">1:1</span>
  </div>

  <div class="commandline" id="cmdline">
    <span id="cmdprompt">:</span><span class="cursor" id="cmdcursor"> </span>
  </div>

  <script>
    let mode = 'normal';
    let commandBuffer = '';

    const modeEl = document.getElementById('mode');
    const cmdPrompt = document.getElementById('cmdprompt');
    const cmdCursor = document.getElementById('cmdcursor');

    document.addEventListener('keydown', (e) => {
      if (mode === 'normal') {
        if (e.key === ':') {
          mode = 'command';
          commandBuffer = '';
          modeEl.textContent = 'COMMAND';
          modeEl.className = 'mode command';
          cmdPrompt.textContent = ':';
          e.preventDefault();
        }
      } else if (mode === 'command') {
        if (e.key === 'Escape') {
          mode = 'normal';
          modeEl.textContent = 'NORMAL';
          modeEl.className = 'mode normal';
          cmdPrompt.textContent = ':';
          commandBuffer = '';
        } else if (e.key === 'Enter') {
          if (commandBuffer === 'q') {
            document.body.textContent = '';
            const exitDiv = document.createElement('div');
            exitDiv.className = 'exited';
            exitDiv.textContent = ':q';
            document.body.appendChild(exitDiv);
          }
          mode = 'normal';
          modeEl.textContent = 'NORMAL';
          modeEl.className = 'mode normal';
          cmdPrompt.textContent = ':';
          commandBuffer = '';
        } else if (e.key === 'Backspace') {
          commandBuffer = commandBuffer.slice(0, -1);
          cmdPrompt.textContent = ':' + commandBuffer;
        } else if (e.key.length === 1) {
          commandBuffer += e.key;
          cmdPrompt.textContent = ':' + commandBuffer;
        }
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
