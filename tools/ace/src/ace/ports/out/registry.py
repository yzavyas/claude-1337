"""Registry port - tracking sources and installations."""

from typing import Protocol

from ace.domain.models import Installation, Source


class RegistryPort(Protocol):
    """Tracks sources and installed bundles."""

    def list_sources(self) -> list[Source]: ...
    def add_source(self, source: Source) -> None: ...
    def remove_source(self, name: str) -> None: ...
    def get_source(self, name: str) -> Source | None: ...

    def list_installations(self, target: str | None = None) -> list[Installation]: ...
    def add_installation(self, installation: Installation) -> None: ...
    def remove_installation(self, installation_id: str) -> None: ...
    def get_installation(self, installation_id: str) -> Installation | None: ...
